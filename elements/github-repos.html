<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="./paper-article-card.html">

<!--
Returns the github repose of a user in a div of paper-article-cards
Usage: <github-repos user='ufosc'
        sort='[pushed|created|updated|full_name]'></github-repos>
-->


<dom-module id='github-repos'>

  <template>
    <link rel="stylesheet" href="../styles/main.css">

    <style>
    :host {
      display: inline-block;
    }
    </style>

      <iron-ajax id='testAjax'
        url="https://api.github.com/users/{{user}}/repos?sort={{sort}}"
        method='GET'
        last-response="{{data}}" auto></iron-ajax>

        <template is='dom-repeat' items='{{data}}'>
          <paper-article-card
            class="main-content"
            title="{{item.name}}"
            text="{{item.description}}"
            link="{{item.html_url}}"
            >
          </paper-article-card>
        </template>

  </template>

  <script>
  console.log("ran");
  Polymer({
    is: 'github-repos',
    properties: {
      user: String
    }
  });
  </script>
</dom-module>
